<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <!-- maximum scale added to stop zoom on select controls -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <meta content="text/html; charset=UTF-8" http-equiv="content-type">

  <title>Search persons</title>

  <link rel="stylesheet" href="../css/jquery.mobile-1.2.0.min.css"/>
  <link rel="stylesheet" href="../css/jquery.mobile.theme-1.2.0.min.css"/>

  <link rel="stylesheet" href="css/mapapp.css"/>


  <script type="text/javascript" charset="utf-8" src="../cordova-2.0.0.js"></script>
  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script src="../js/jquery-1.8.2.min.js"></script>
  <script src="../js/jquery.mobile-1.2.0.min.js"></script>

  <script src="js/jquery.ui.map/jquery.ui.map.js"></script>
  <script src="js/jquery.ui.map/jquery.ui.map.overlays.js"></script>
  <script src="js/jquery.ui.map/jquery.ui.map.services.js"></script>
  <!-- script src="http://debug.phonegap.com/target/target-script-min.js#fookaka"></script -->

  <script type="text/template" id="campus_template">
    <select name="campus" id="campus" data-native-menu="true">
      <option value=""><%= defaultOptionName %></option>
      <% _(options).each(function(item) { %>
      <option value="<%= item.id %>"><%= item.name %></option>
      <% }); %>
    </select>
  </script>

  <script type="text/template" id="location_template">
    <option value=""><%= defaultOptionName %></option>
    <% _(options).each(function(item) { %>
    <option value="<%= item %>"><%= item %></option>
    <% }); %>
  </script>

  <script type="text/template" id="search-popup_filter_button_template">
    <a id="<%= id %>" data-role="button" data-inline="true" data-mini="true" href="#" data-icon="delete"
       data-iconpos="right"><%= name %></a>
  </script>

  <script type="text/template" id="infoWindow_template">
	<div class='iw'>
	  <h3><%= itemText %></h3>

	  <div id="directions" style="<%= displayMode %>">
		<div>Directions:</div>
		<div id="travel_modes_div" class="dir-tm kd-buttonbar kd-button">
		  <a class="kd-button kd-button-left dir-button" href="javascript:void(0)" id="walking" title="Walking">
			<img class="dir-tm-w" src="http://maps.gstatic.com/mapfiles/transparent.png">
		  </a>
		  <a class="kd-button kd-button-mid dir-button" href="javascript:void(0)" id="bicycling" title="Bicycling">
			<img class="dir-tm-b" src="http://maps.gstatic.com/mapfiles/transparent.png">
		  </a>
		  <a class="kd-button kd-button-mid dir-button" href="javascript:void(0)" id="publicTransp" title="By public transit">
			<img class="dir-tm-r" src="http://maps.gstatic.com/mapfiles/transparent.png">
		  </a>
		  <a class="kd-button kd-button-right dir-button" href="javascript:void(0)" id="driving" title="By car">
			<img class="dir-tm-d" src="http://maps.gstatic.com/mapfiles/transparent.png">
		  </a>
		</div>
	  </div>
	</div>
  </script>
</head>
<body>

<!-- script src="js/main.js"></script -->
<script src="../js/underscore-1.3.3-min.js"></script>
<script src="../js/backbone-0.9.2-min.js"></script>

<script src="js/models/campusmodel.js"></script>
<script src="js/models/locationmodel.js"></script>
<script src="js/views/app-view.js"></script>
<script src="js/views/map-infoWindow-view.js"></script>
<script src="js/views/map-view.js"></script>
<script src="js/views/search-view.js"></script>

<div data-role="page" data-theme="a" data-fullscreen="true" id="page-map">

  <div id="page-map-header" data-theme="a" data-role="header" class="header">
    <div class="ui-grid-a">
      <div class="ui-block-a">
        <div id="campus"></div>
      </div>
      <div class="ui-block-b">
        <select name="poiType" id="poiType" data-native-menu="true" multiple>
          <option value="">Filter</option>
        </select>
      </div>
    </div>

  </div>

  <div data-role="content" id="map-content">
    <div data-role="popup" data-corners="false" data-theme="a" data-shadow="false" data-tolerance="0,0"
         id="search-popup">
      <div data-role="fieldcontain">
        <input name="search_input" id="search_input" data-theme="a" placeholder="Enter search string" value=""
               type="search" data-mini="true">
      </div>
      <!--<a id="search_button" href="#" data-mini="true" data-role="button">Search</a>-->
      <div id="search-popup-filters"></div>
    </div>
    <div id="map_canvas"></div>
  </div>
  <!-- /content -->

  <div data-role="footer" data-theme="a" data-position="fixed" data-tap-toggle="false">
    <div data-role="navbar">
      <ul id="footer-buttons1">
        <li><a rel="external" data-ajax="false" data-transition="slide" href="../index.html">Home</a></li>
        <li><a id="menu-search" href="#">Search</a></li>
      </ul>
      <ul id="footer-buttons2" style="display:none;">
        <li><a rel="external" data-ajax="false" data-transition="slide" href="../index.html">Home</a></li>
        <li><a id="menu-search" href="#">Search</a></li>
        <li><a href="#page-dir">Directions</a></li>
      </ul>
    </div>
    <!-- /navbar -->
  </div>
  <!-- /footer -->
</div>
<!-- /page-map -->

<div data-role="page" data-theme="a" data-fullscreen="true" id="page-dir">

  <div data-role="content">
    <div id="dir_panel"></div>
  </div>
  <!-- /content -->

  <div data-role="footer" data-theme="a" data-position="fixed" data-tap-toggle="false">
    <div data-role="navbar">
      <ul>
        <li><a rel="external" data-ajax="false" data-transition="slide" href="../index.html">Home</a></li>
        <li><a href="#page-map">Map</a></li>
      </ul>
    </div>
    <!-- /navbar -->
  </div>
  <!-- /footer -->
</div>
<!-- /page-dir -->
</body>
</html>
